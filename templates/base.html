<!DOCTYPE html>
<html lang="en" data-theme="catppuccin">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{{ blog_name }}{% endblock %}</title>
    <link rel="icon" href="/icon">
    <meta name="description" content="{{ blog_description }}">
    <meta name="keywords" content="{{ meta_keywords }}">
    <meta name="author" content="{{ meta_author }}">
    
    <!-- Tailwind CSS v3 + DaisyUI -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.14/dist/full.min.css" rel="stylesheet">
    
    <!-- Tailwind config with custom theme -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'base': '{{ background_color }}',
                        'text': '{{ text_color }}',
                        'text-secondary': '{{ secondary_text_color }}',
                        'accent': '{{ accent_color }}'
                    },
                    maxWidth: {
                        'content': '{{ content_max_width }}'
                    }
                }
            },
            daisyui: {
                themes: [{
                    catppuccin: {
                        "primary": "{{ accent_color }}",
                        "base-100": "{{ background_color }}",
                        "base-content": "{{ text_color }}"
                    }
                }]
            }
        }
    </script>
    
    <!-- Fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700&family=Playfair+Display:wght@400;700&display=swap">
    
    <!-- Code highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    
    <!-- Markdown styles -->
    <link href="/static/markdown.css" rel="stylesheet">
    
    <style>
        :root {
            --bg-color: {{ background_color }};
            --text-color: {{ text_color }};
            --secondary-text: {{ secondary_text_color }};
            --accent-color: {{ accent_color }};
            --body-font: {{ body_font }};
            --heading-font: {{ heading_font }};
            --content-max-width: {{ content_max_width }};
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: var(--body-font);
            font-weight: {{ body_font_weight }};
            font-size: {{ body_font_size }};
            line-height: {{ body_line_height }};
            letter-spacing: {{ body_letter_spacing }};
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: var(--heading-font);
            font-weight: {{ heading_font_weight }};
            letter-spacing: {{ heading_letter_spacing }};
        }

        a { color: var(--accent-color); }
        a:hover { text-decoration: underline; }
        .text-secondary { color: var(--secondary-text); }
        .content-container { max-width: var(--content-max-width); }
    </style>
</head>
<body class="min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <nav class="text-center mb-8 text-lg">
            <a href="/" class="hover:no-underline">
                <img src="/icon" alt="icon" class="inline-block mx-2 w-14 h-14 align-middle">
            </a>
            <span class="mx-4"></span>
            <a href="/post/about" class="text-secondary hover:underline">about</a>
            <span class="mx-4"></span>
            <a href="/" class="text-secondary hover:underline">post</a>
        </nav>

        <main class="content-container mx-auto">
            {% block content %}{% endblock %}
        </main>

        <footer class="text-center mt-16 pt-8 border-t border-gray-600">
            <p class="text-secondary text-sm">
                Â© {{ now.year }} 
                <a href="{{ instagram_url }}" target="_blank" class="hover:underline">{{ instagram_handle }}</a>
            </p>
        </footer>
    </div>

    {% block scripts %}{% endblock %}
</body>
</html>
